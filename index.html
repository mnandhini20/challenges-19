<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    const dogs = [
      { weight: 22, curFood: 250, owners: ["Alice", "Bob"] },
      { weight: 8, curFood: 200, owners: ["Matilda"] },
      { weight: 13, curFood: 275, owners: ["Sarah", "John"] },
      { weight: 32, curFood: 340, owners: ["Michael"] },
    ];

    // Task 1: Calculate recommended food portion for each dog
    dogs.forEach((dog) => {
      dog.recommendedFood = Math.trunc(dog.weight ** 0.75 * 28);
    });

    // Task 2: Find Sarah's dog and determine if it's eating too much or too little
    const sarahDog = dogs.find((dog) => dog.owners.includes("Sarah"));
    if (sarahDog) {
      const tooMuch = sarahDog.curFood > sarahDog.recommendedFood * 1.1;
      const tooLittle = sarahDog.curFood < sarahDog.recommendedFood * 0.9;
      console.log(
        `Sarah's dog is eating too ${
          tooMuch ? "much" : tooLittle ? "little" : "okay"
        }`
      );
    }

    // Task 3: Create arrays containing owners of dogs eating too much or too little
    const ownersEatTooMuch = dogs
      .filter((dog) => dog.curFood > dog.recommendedFood * 1.1)
      .flatMap((dog) => dog.owners);
    const ownersEatTooLittle = dogs
      .filter((dog) => dog.curFood < dog.recommendedFood * 0.9)
      .flatMap((dog) => dog.owners);

    // Task 4: Log strings to the console for each array created in Task 3
    console.log(`${ownersEatTooMuch.join(" and ")}'s dogs eat too much!`);
    console.log(`${ownersEatTooLittle.join(" and ")}'s dogs eat too little!`);

    // Task 5: Log whether there is any dog eating exactly the recommended amount
    const eatingRecommended = dogs.some(
      (dog) => dog.curFood === dog.recommendedFood
    );
    console.log(`Any dog eating recommended amount: ${eatingRecommended}`);

    // Task 6: Log whether there is any dog eating an okay amount of food
    const eatingOkay = dogs.some(
      (dog) =>
        dog.curFood > dog.recommendedFood * 0.9 &&
        dog.curFood < dog.recommendedFood * 1.1
    );
    console.log(`Any dog eating an okay amount: ${eatingOkay}`);

    // Task 7: Create an array containing dogs eating an okay amount of food
    const dogsEatingOkay = dogs.filter(
      (dog) =>
        dog.curFood > dog.recommendedFood * 0.9 &&
        dog.curFood < dog.recommendedFood * 1.1
    );

    // Task 8: Create a shallow copy of the dogs array and sort it by recommended food portion in ascending order
    const sortedDogs = [...dogs].sort(
      (a, b) => a.recommendedFood - b.recommendedFood
    );

    console.log(sortedDogs);
  </script>
</html>
